{
  "openapi": "3.0.0",
  "paths": {
    "/tenants": {
      "post": {
        "operationId": "TenantController_create",
        "parameters": [],
        "requestBody": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/TenantCreateRequest" } } } },
        "responses": { "201": { "description": "", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Tenant" } } } } },
        "summary": "",
        "tags": ["tenant-http"],
        "x-operation-name": "create"
      },
      "get": {
        "operationId": "TenantController_list",
        "parameters": [
          { "name": "active", "required": false, "in": "query", "schema": { "type": "string" } },
          { "name": "direction", "required": false, "in": "query", "schema": { "type": "string" } },
          { "name": "pageIndex", "required": false, "in": "query", "schema": { "type": "number" } },
          { "name": "pageSize", "required": false, "in": "query", "schema": { "type": "number" } },
          { "name": "filter", "required": false, "in": "query", "schema": { "type": "string" } },
          { "name": "select", "required": false, "in": "query", "schema": { "type": "string" } }
        ],
        "responses": { "200": { "description": "", "content": { "application/json": { "schema": { "type": "array", "items": { "$ref": "#/components/schemas/Tenant" } } } } } },
        "summary": "",
        "tags": ["tenant-http"],
        "x-operation-name": "list"
      }
    },
    "/tenants/{tenantId}": {
      "get": {
        "operationId": "TenantController_read",
        "parameters": [{ "name": "tenantId", "required": true, "in": "path", "schema": { "type": "string" } }],
        "responses": { "200": { "description": "", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Tenant" } } } } },
        "summary": "",
        "tags": ["tenant-http"],
        "x-operation-name": "read"
      },
      "put": {
        "operationId": "TenantController_update",
        "parameters": [{ "name": "tenantId", "required": true, "in": "path", "schema": { "type": "string" } }],
        "requestBody": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/TenantUpdateRequest" } } } },
        "responses": { "200": { "description": "" } },
        "summary": "",
        "tags": ["tenant-http"],
        "x-operation-name": "update"
      }
    },
    "/tenants/{tenantId}/clients": {
      "post": {
        "operationId": "ClientController_create",
        "parameters": [{ "name": "tenantId", "required": true, "in": "path", "schema": { "type": "string" } }],
        "requestBody": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ClientRequest" } } } },
        "responses": { "201": { "description": "", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Client" } } } } },
        "summary": "",
        "tags": ["client-http"],
        "x-operation-name": "create"
      },
      "get": {
        "operationId": "ClientController_list",
        "parameters": [
          { "name": "tenantId", "required": true, "in": "path", "schema": { "type": "string" } },
          { "name": "active", "required": false, "in": "query", "schema": { "type": "string" } },
          { "name": "direction", "required": false, "in": "query", "schema": { "type": "string" } },
          { "name": "pageIndex", "required": false, "in": "query", "schema": { "type": "number" } },
          { "name": "pageSize", "required": false, "in": "query", "schema": { "type": "number" } },
          { "name": "filter", "required": false, "in": "query", "schema": { "type": "string" } },
          { "name": "select", "required": false, "in": "query", "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "properties": { "items": { "type": "array", "items": { "$ref": "#/components/schemas/Client" } }, "count": { "type": "number" } },
                  "required": ["items", "count"]
                }
              }
            }
          }
        },
        "summary": "",
        "tags": ["client-http"],
        "x-operation-name": "list"
      }
    },
    "/tenants/{tenantId}/clients/{uuid}": {
      "get": {
        "operationId": "ClientController_read",
        "parameters": [
          { "name": "tenantId", "required": true, "in": "path", "schema": { "type": "string" } },
          { "name": "uuid", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "responses": { "200": { "description": "", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Client" } } } } },
        "summary": "",
        "tags": ["client-http"],
        "x-operation-name": "read"
      },
      "put": {
        "operationId": "ClientController_update",
        "parameters": [
          { "name": "tenantId", "required": true, "in": "path", "schema": { "type": "string" } },
          { "name": "uuid", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "requestBody": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ClientRequest" } } } },
        "responses": { "200": { "description": "" } },
        "summary": "",
        "tags": ["client-http"],
        "x-operation-name": "update"
      },
      "delete": {
        "operationId": "ClientController_delete",
        "parameters": [
          { "name": "tenantId", "required": true, "in": "path", "schema": { "type": "string" } },
          { "name": "uuid", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "responses": { "200": { "description": "" } },
        "summary": "",
        "tags": ["client-http"],
        "x-operation-name": "delete"
      }
    },
    "/tenants/{tenantId}/dashboard": {
      "post": {
        "operationId": "DashboardController_get",
        "parameters": [{ "name": "tenantId", "required": true, "in": "path", "schema": { "type": "string" } }],
        "requestBody": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/DashboardRequest" } } } },
        "responses": { "201": { "description": "" } },
        "summary": "",
        "tags": ["dashboard-http"],
        "x-operation-name": "get"
      }
    }
  },
  "info": { "title": "Core", "description": "", "version": "1.0.0", "contact": {} },
  "tags": [],
  "servers": [
    { "url": "/api/core", "description": "Current installation" },
    { "url": "https://app.trackify.com/api/core/api", "description": "Production" }
  ],
  "components": {
    "securitySchemes": { "bearer": { "scheme": "bearer", "bearerFormat": "JWT", "type": "http" } },
    "schemas": {
      "TenantCreateRequest": { "type": "object", "properties": { "name": { "type": "string" } }, "required": ["name"] },
      "StoredFile": {
        "type": "object",
        "properties": { "name": { "type": "string" }, "location": { "type": "string" }, "key": { "type": "string" } },
        "required": ["name", "location", "key"]
      },
      "Tenant": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "logo": { "$ref": "#/components/schemas/StoredFile" },
          "_id": { "type": "string" },
          "uuid": { "type": "string" },
          "createdAt": { "format": "date-time", "type": "string" },
          "createdBy": { "type": "string" },
          "updatedAt": { "format": "date-time", "type": "string" },
          "updatedBy": { "type": "string" },
          "version": { "type": "number" }
        },
        "required": ["name", "_id", "uuid", "createdAt", "createdBy", "updatedAt", "updatedBy", "version"]
      },
      "TenantUpdateRequest": { "type": "object", "properties": { "name": { "type": "string" }, "logo": { "$ref": "#/components/schemas/StoredFile" } }, "required": ["name"] },
      "ClientRequest": { "type": "object", "properties": { "name": { "type": "string" } }, "required": ["name"] },
      "Client": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "tenantId": { "type": "string" },
          "_id": { "type": "string" },
          "uuid": { "type": "string" },
          "createdAt": { "format": "date-time", "type": "string" },
          "createdBy": { "type": "string" },
          "updatedAt": { "format": "date-time", "type": "string" },
          "updatedBy": { "type": "string" },
          "version": { "type": "number" }
        },
        "required": ["name", "tenantId", "_id", "uuid", "createdAt", "createdBy", "updatedAt", "updatedBy", "version"]
      },
      "PhysicalRiskScenario": { "type": "string", "enum": ["DUMMY"] },
      "TransitionRiskScenario": { "type": "string", "enum": ["DUMMY"] },
      "DashboardRequest": {
        "type": "object",
        "properties": {
          "physicalRiskScenario": { "allOf": [{ "$ref": "#/components/schemas/PhysicalRiskScenario" }] },
          "transitionRiskScenario": { "allOf": [{ "$ref": "#/components/schemas/TransitionRiskScenario" }] },
          "assetId": { "type": "string" },
          "period": { "type": "array", "items": { "format": "date-time", "type": "string" } }
        },
        "required": ["physicalRiskScenario", "transitionRiskScenario", "assetId", "period"]
      }
    }
  }
}
